<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <title>Welcome, to osu!</title>
        <style>
            body {
                overflow: hidden;
                background: transparent;
            }

            audio {
                width: 100%;
                visibility: hidden;
            }
        </style>
    </head>
    <body>
        
        <audio id="song" src="./welcome.mp3" controls>
	        <p>If you are reading this, it is because your browser does not support the audio tag.</p>
        </audio>

        <script>    
            "use strict";
            var played = false
            var play
            window.addEventListener("load", function(event) {
                var moosic = document.getElementById("song")
                moosic.volume = 0.3;

                play = function() {
                    if (played) return
                    played = true
                    moosic.play()
                        .catch(() => {
                        played = false
                        console.log('Couldnt play welcome to osu!')
                    })
                }
                if (window.getComputedStyle(moosic).width == "100%" ) {
                    play()
                    setInterval(play, 5000)
                    window.addEventListener('click', () => play())
                    window.addEventListener('focus', () => play())
                    window.addEventListener('mousemove', () => play()) 
                    window.addEventListener('mouseover', () => play()) 
                    // mousedown
                }
            })
        </script>

    </body>
</html>
